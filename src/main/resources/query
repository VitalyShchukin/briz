CREATE DATABASE briz;

CREATE TABLE public.student (
id SERIAL NOT NULL,
first_name VARCHAR(50) NOT NULL,
middle_name VARCHAR(50) NOT NULL,
last_name VARCHAR(50) NOT NULL,
born_year INTEGER NOT NULL,
gender VARCHAR(1) NOT NULL,
CHECK (born_year>1900),
PRIMARY KEY (id)
);

CREATE TABLE public.teacher (
id SERIAL NOT NULL,
first_name VARCHAR(50) NOT NULL,
middle_name VARCHAR(50) NOT NULL,
last_name VARCHAR(50) NOT NULL,
born_year INTEGER NOT NULL,
gender VARCHAR(1) NOT NULL,
main_subject VARCHAR(50) NOT NULL,
CHECK (born_year>1900),
PRIMARY KEY (id)
);

CREATE TABLE public.grade (
id SERIAL NOT NULL,
mnemocode VARCHAR(10) NOT NULL,
academic_year INTEGER NOT NULL,
student_id INTEGER,
teacher_id INTEGER,
CHECK (academic_year>1900),
PRIMARY KEY (id),
FOREIGN KEY (student_id) REFERENCES public.student (id),
FOREIGN KEY (teacher_id) REFERENCES public.teacher (id)
);

